{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import\"./styles.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Home(){const host='localhost';const instance=axios.create({baseURL:'http://192.168.1.131:5000/alltime'});const[data,setData]=useState([]);useEffect(()=>{const fetchData=()=>{instance.get('').then(response=>setData(response.data)).catch(error=>console.log(error));};// Fetch data initially\nfetchData();// Set up polling every 5 seconds (adjust interval as needed)\nconst intervalId=setInterval(fetchData,5000);// Clean up interval on component unmount\nreturn()=>clearInterval(intervalId);},[]);// Function to mask the last 4 digits\nconst maskPersonnummer=personnummer=>{if(personnummer.length>4){return personnummer.slice(0,-4)+\"****\";}return personnummer;};return/*#__PURE__*/_jsx(\"div\",{className:\"tbl-content\",children:/*#__PURE__*/_jsx(\"table\",{cellPadding:\"2\",cellSpacing:\"2\",border:\"2\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"F\\xF6rnamn\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Efternamn\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Personnummer\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tid in\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tid ut\"})]}),data.map((item,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item.fornamn}),/*#__PURE__*/_jsx(\"td\",{children:item.efternamn}),/*#__PURE__*/_jsx(\"td\",{children:item.personnummer}),/*#__PURE__*/_jsx(\"td\",{children:item.timein}),/*#__PURE__*/_jsx(\"td\",{children:item.timeout})]},index))]})})});}export default Home;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Home","host","instance","create","baseURL","data","setData","fetchData","get","then","response","catch","error","console","log","intervalId","setInterval","clearInterval","maskPersonnummer","personnummer","length","slice","className","children","cellPadding","cellSpacing","border","map","item","index","fornamn","efternamn","timein","timeout"],"sources":["C:/Users/walle/Documents/loginlumme/lummelundalogin/src/home.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport \"./styles.css\";\r\n\r\nfunction Home() {\r\n  const host = 'localhost'\r\n  const instance = axios.create({ baseURL: 'http://192.168.1.131:5000/alltime' });\r\n  const [data, setData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = () => {\r\n      instance.get('')\r\n        .then(response => setData(response.data))\r\n        .catch(error => console.log(error));\r\n    };\r\n\r\n    // Fetch data initially\r\n    fetchData();\r\n\r\n    // Set up polling every 5 seconds (adjust interval as needed)\r\n    const intervalId = setInterval(fetchData, 5000);\r\n\r\n    // Clean up interval on component unmount\r\n    return () => clearInterval(intervalId);\r\n  }, []);\r\n\r\n    // Function to mask the last 4 digits\r\n    const maskPersonnummer = (personnummer) => {\r\n      if (personnummer.length > 4) {\r\n        return personnummer.slice(0, -4) + \"****\";\r\n      }\r\n      return personnummer;\r\n    };\r\n\r\n  return (\r\n    <div className=\"tbl-content\">\r\n      <table cellPadding=\"2\" cellSpacing=\"2\" border=\"2\">\r\n        <tbody>\r\n          <tr>\r\n            <th>FÃ¶rnamn</th>\r\n            <th>Efternamn</th>\r\n            <th>Personnummer</th>\r\n            <th>Tid in</th>\r\n            <th>Tid ut</th>\r\n          </tr>\r\n          {data.map((item, index) => (\r\n            <tr key={index}>\r\n              <td>{item.fornamn}</td>\r\n              <td>{item.efternamn}</td>\r\n              <td>{item.personnummer}</td>\r\n              <td>{item.timein}</td>\r\n              <td>{item.timeout}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtB,QAAS,CAAAC,IAAIA,CAAA,CAAG,CACd,KAAM,CAAAC,IAAI,CAAG,WAAW,CACxB,KAAM,CAAAC,QAAQ,CAAGP,KAAK,CAACQ,MAAM,CAAC,CAAEC,OAAO,CAAE,mCAAoC,CAAC,CAAC,CAC/E,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAEpCC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAa,SAAS,CAAGA,CAAA,GAAM,CACtBL,QAAQ,CAACM,GAAG,CAAC,EAAE,CAAC,CACbC,IAAI,CAACC,QAAQ,EAAIJ,OAAO,CAACI,QAAQ,CAACL,IAAI,CAAC,CAAC,CACxCM,KAAK,CAACC,KAAK,EAAIC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAAC,CACvC,CAAC,CAED;AACAL,SAAS,CAAC,CAAC,CAEX;AACA,KAAM,CAAAQ,UAAU,CAAGC,WAAW,CAACT,SAAS,CAAE,IAAI,CAAC,CAE/C;AACA,MAAO,IAAMU,aAAa,CAACF,UAAU,CAAC,CACxC,CAAC,CAAE,EAAE,CAAC,CAEJ;AACA,KAAM,CAAAG,gBAAgB,CAAIC,YAAY,EAAK,CACzC,GAAIA,YAAY,CAACC,MAAM,CAAG,CAAC,CAAE,CAC3B,MAAO,CAAAD,YAAY,CAACE,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAAC,CAAG,MAAM,CAC3C,CACA,MAAO,CAAAF,YAAY,CACrB,CAAC,CAEH,mBACEtB,IAAA,QAAKyB,SAAS,CAAC,aAAa,CAAAC,QAAA,cAC1B1B,IAAA,UAAO2B,WAAW,CAAC,GAAG,CAACC,WAAW,CAAC,GAAG,CAACC,MAAM,CAAC,GAAG,CAAAH,QAAA,cAC/CxB,KAAA,UAAAwB,QAAA,eACExB,KAAA,OAAAwB,QAAA,eACE1B,IAAA,OAAA0B,QAAA,CAAI,YAAO,CAAI,CAAC,cAChB1B,IAAA,OAAA0B,QAAA,CAAI,WAAS,CAAI,CAAC,cAClB1B,IAAA,OAAA0B,QAAA,CAAI,cAAY,CAAI,CAAC,cACrB1B,IAAA,OAAA0B,QAAA,CAAI,QAAM,CAAI,CAAC,cACf1B,IAAA,OAAA0B,QAAA,CAAI,QAAM,CAAI,CAAC,EACb,CAAC,CACJlB,IAAI,CAACsB,GAAG,CAAC,CAACC,IAAI,CAAEC,KAAK,gBACpB9B,KAAA,OAAAwB,QAAA,eACE1B,IAAA,OAAA0B,QAAA,CAAKK,IAAI,CAACE,OAAO,CAAK,CAAC,cACvBjC,IAAA,OAAA0B,QAAA,CAAKK,IAAI,CAACG,SAAS,CAAK,CAAC,cACzBlC,IAAA,OAAA0B,QAAA,CAAKK,IAAI,CAACT,YAAY,CAAK,CAAC,cAC5BtB,IAAA,OAAA0B,QAAA,CAAKK,IAAI,CAACI,MAAM,CAAK,CAAC,cACtBnC,IAAA,OAAA0B,QAAA,CAAKK,IAAI,CAACK,OAAO,CAAK,CAAC,GALhBJ,KAML,CACL,CAAC,EACG,CAAC,CACH,CAAC,CACL,CAAC,CAEV,CAEA,cAAe,CAAA7B,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}