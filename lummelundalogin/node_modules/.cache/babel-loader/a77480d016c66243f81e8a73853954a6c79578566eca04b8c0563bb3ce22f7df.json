{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.errorResponsePlugin = void 0;\nconst status_code_1 = require(\"../../status-code\");\nconst errorResponsePlugin = (proxyServer, options) => {\n  proxyServer.on('error', (err, req, res, target) => {\n    // Re-throw error. Not recoverable since req & res are empty.\n    if (!req && !res) {\n      throw err; // \"Error: Must provide a proper URL as target\"\n    }\n    if ('writeHead' in res && !res.headersSent) {\n      const statusCode = (0, status_code_1.getStatusCode)(err.code);\n      res.writeHead(statusCode);\n    }\n    const host = req.headers && req.headers.host;\n    res.end(`Error occurred while trying to proxy: ${host}${req.url}`);\n  });\n};\nexports.errorResponsePlugin = errorResponsePlugin;","map":{"version":3,"names":["Object","defineProperty","exports","value","errorResponsePlugin","status_code_1","require","proxyServer","options","on","err","req","res","target","headersSent","statusCode","getStatusCode","code","writeHead","host","headers","end","url"],"sources":["C:/Users/walle/Documents/lummelundalogin/lummelundalogin/node_modules/http-proxy-middleware/dist/plugins/default/error-response-plugin.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.errorResponsePlugin = void 0;\nconst status_code_1 = require(\"../../status-code\");\nconst errorResponsePlugin = (proxyServer, options) => {\n    proxyServer.on('error', (err, req, res, target) => {\n        // Re-throw error. Not recoverable since req & res are empty.\n        if (!req && !res) {\n            throw err; // \"Error: Must provide a proper URL as target\"\n        }\n        if ('writeHead' in res && !res.headersSent) {\n            const statusCode = (0, status_code_1.getStatusCode)(err.code);\n            res.writeHead(statusCode);\n        }\n        const host = req.headers && req.headers.host;\n        res.end(`Error occurred while trying to proxy: ${host}${req.url}`);\n    });\n};\nexports.errorResponsePlugin = errorResponsePlugin;\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,mBAAmB,GAAG,KAAK,CAAC;AACpC,MAAMC,aAAa,GAAGC,OAAO,CAAC,mBAAmB,CAAC;AAClD,MAAMF,mBAAmB,GAAGA,CAACG,WAAW,EAAEC,OAAO,KAAK;EAClDD,WAAW,CAACE,EAAE,CAAC,OAAO,EAAE,CAACC,GAAG,EAAEC,GAAG,EAAEC,GAAG,EAAEC,MAAM,KAAK;IAC/C;IACA,IAAI,CAACF,GAAG,IAAI,CAACC,GAAG,EAAE;MACd,MAAMF,GAAG,CAAC,CAAC;IACf;IACA,IAAI,WAAW,IAAIE,GAAG,IAAI,CAACA,GAAG,CAACE,WAAW,EAAE;MACxC,MAAMC,UAAU,GAAG,CAAC,CAAC,EAAEV,aAAa,CAACW,aAAa,EAAEN,GAAG,CAACO,IAAI,CAAC;MAC7DL,GAAG,CAACM,SAAS,CAACH,UAAU,CAAC;IAC7B;IACA,MAAMI,IAAI,GAAGR,GAAG,CAACS,OAAO,IAAIT,GAAG,CAACS,OAAO,CAACD,IAAI;IAC5CP,GAAG,CAACS,GAAG,CAAC,yCAAyCF,IAAI,GAAGR,GAAG,CAACW,GAAG,EAAE,CAAC;EACtE,CAAC,CAAC;AACN,CAAC;AACDpB,OAAO,CAACE,mBAAmB,GAAGA,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}