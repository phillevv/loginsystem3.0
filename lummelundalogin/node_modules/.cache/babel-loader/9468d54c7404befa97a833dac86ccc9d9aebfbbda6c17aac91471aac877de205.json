{"ast":null,"code":"var util = require('util');\n\n/**\n * Module exports.\n */\n\nexports.parse = parse;\nexports.format = format;\n\n/**\n * Parse extensions header value\n */\n\nfunction parse(value) {\n  value = value || '';\n  var extensions = {};\n  value.split(',').forEach(function (v) {\n    var params = v.split(';');\n    var token = params.shift().trim();\n    if (extensions[token] === undefined) {\n      extensions[token] = [];\n    } else if (!extensions.hasOwnProperty(token)) {\n      return;\n    }\n    var parsedParams = {};\n    params.forEach(function (param) {\n      var parts = param.trim().split('=');\n      var key = parts[0];\n      var value = parts[1];\n      if (typeof value === 'undefined') {\n        value = true;\n      } else {\n        // unquote value\n        if (value[0] === '\"') {\n          value = value.slice(1);\n        }\n        if (value[value.length - 1] === '\"') {\n          value = value.slice(0, value.length - 1);\n        }\n      }\n      if (parsedParams[key] === undefined) {\n        parsedParams[key] = [value];\n      } else if (parsedParams.hasOwnProperty(key)) {\n        parsedParams[key].push(value);\n      }\n    });\n    extensions[token].push(parsedParams);\n  });\n  return extensions;\n}\n\n/**\n * Format extensions header value\n */\n\nfunction format(value) {\n  return Object.keys(value).map(function (token) {\n    var paramsList = value[token];\n    if (!util.isArray(paramsList)) {\n      paramsList = [paramsList];\n    }\n    return paramsList.map(function (params) {\n      return [token].concat(Object.keys(params).map(function (k) {\n        var p = params[k];\n        if (!util.isArray(p)) p = [p];\n        return p.map(function (v) {\n          return v === true ? k : k + '=' + v;\n        }).join('; ');\n      })).join('; ');\n    }).join(', ');\n  }).join(', ');\n}","map":{"version":3,"names":["util","require","exports","parse","format","value","extensions","split","forEach","v","params","token","shift","trim","undefined","hasOwnProperty","parsedParams","param","parts","key","slice","length","push","Object","keys","map","paramsList","isArray","concat","k","p","join"],"sources":["C:/Users/walle/Documents/lummelundalogin/lummelundalogin/node_modules/engine.io/node_modules/ws/lib/Extensions.js"],"sourcesContent":["\nvar util = require('util');\n\n/**\n * Module exports.\n */\n\nexports.parse = parse;\nexports.format = format;\n\n/**\n * Parse extensions header value\n */\n\nfunction parse(value) {\n  value = value || '';\n\n  var extensions = {};\n\n  value.split(',').forEach(function(v) {\n    var params = v.split(';');\n    var token = params.shift().trim();\n\n    if (extensions[token] === undefined) {\n      extensions[token] = [];\n    } else if (!extensions.hasOwnProperty(token)) {\n      return;\n    }\n\n    var parsedParams = {};\n\n    params.forEach(function(param) {\n      var parts = param.trim().split('=');\n      var key = parts[0];\n      var value = parts[1];\n      if (typeof value === 'undefined') {\n        value = true;\n      } else {\n        // unquote value\n        if (value[0] === '\"') {\n          value = value.slice(1);\n        }\n        if (value[value.length - 1] === '\"') {\n          value = value.slice(0, value.length - 1);\n        }\n      }\n\n      if (parsedParams[key] === undefined) {\n        parsedParams[key] = [value];\n      } else if (parsedParams.hasOwnProperty(key)) {\n        parsedParams[key].push(value);\n      }\n    });\n\n    extensions[token].push(parsedParams);\n  });\n\n  return extensions;\n}\n\n/**\n * Format extensions header value\n */\n\nfunction format(value) {\n  return Object.keys(value).map(function(token) {\n    var paramsList = value[token];\n    if (!util.isArray(paramsList)) {\n      paramsList = [paramsList];\n    }\n    return paramsList.map(function(params) {\n      return [token].concat(Object.keys(params).map(function(k) {\n        var p = params[k];\n        if (!util.isArray(p)) p = [p];\n        return p.map(function(v) {\n          return v === true ? k : k + '=' + v;\n        }).join('; ');\n      })).join('; ');\n    }).join(', ');\n  }).join(', ');\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}